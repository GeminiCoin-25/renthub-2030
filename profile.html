<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Cuenta - RentHub 2030</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        header {
            background: white;
            padding: 20px 0;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            margin-bottom: 30px;
            border-bottom: 3px solid #8b5cf6;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 26px;
            font-weight: bold;
            color: #8b5cf6;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .nav-links a {
            color: #555;
            text-decoration: none;
            margin-left: 25px;
            font-weight: 500;
            transition: color 0.3s;
            padding: 8px 15px;
            border-radius: 8px;
        }
        
        .nav-links a:hover {
            color: #8b5cf6;
            background: #f5f3ff;
        }
        
        .nav-links a.active {
            background: #8b5cf6;
            color: white;
        }
        
        /* Layout de perfil */
        .profile-layout {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        /* Barra lateral */
        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .user-info {
            text-align: center;
            padding-bottom: 25px;
            margin-bottom: 25px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .user-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 36px;
            font-weight: bold;
        }
        
        .user-name {
            font-size: 22px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 5px;
        }
        
        .user-email {
            color: #64748b;
            font-size: 14px;
            margin-bottom: 15px;
        }
        
        .user-join-date {
            color: #94a3b8;
            font-size: 13px;
            background: #f8fafc;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
        }
        
        /* Navegaci√≥n lateral */
        .sidebar-nav {
            list-style: none;
            padding: 0;
        }
        
        .sidebar-nav li {
            margin-bottom: 10px;
        }
        
        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            text-decoration: none;
            color: #475569;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .sidebar-nav a:hover {
            background: #f5f3ff;
            color: #8b5cf6;
        }
        
        .sidebar-nav a.active {
            background: #8b5cf6;
            color: white;
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        /* Contenido principal */
        .main-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f1f5f9;
        }
        
        .content-title {
            font-size: 28px;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .edit-profile-btn {
            background: #f5f3ff;
            color: #8b5cf6;
            border: 1px solid #ddd6fe;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .edit-profile-btn:hover {
            background: #8b5cf6;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }
        
        /* Tarjetas de informaci√≥n */
        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .info-card {
            background: linear-gradient(135deg, #f8fafc, #f5f3ff);
            border-radius: 12px;
            padding: 25px;
            border-left: 4px solid #8b5cf6;
        }
        
        .info-card h3 {
            color: #475569;
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-card p {
            color: #1e293b;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .info-card span {
            color: #64748b;
            font-size: 14px;
        }
        
        /* Secci√≥n informaci√≥n de cuenta */
        .account-section {
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 22px;
            color: #1e293b;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #475569;
        }
        
        .form-control {
            width: 100%;
            padding: 14px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #8b5cf6;
        }
        
        .form-control[readonly] {
            background: #f8fafc;
            color: #64748b;
            cursor: not-allowed;
        }
        
        /* Secci√≥n de suscripci√≥n */
        .subscription-card {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .subscription-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -20%;
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        
        .subscription-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
            z-index: 2;
        }
        
        .subscription-plan {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .plan-icon {
            font-size: 36px;
        }
        
        .plan-name {
            font-size: 24px;
            font-weight: bold;
        }
        
        .plan-price {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .upgrade-btn {
            background: white;
            color: #8b5cf6;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .upgrade-btn:hover {
            background: #f5f3ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,255,255,0.2);
        }
        
        .subscription-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            position: relative;
            z-index: 2;
        }
        
        .detail-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .detail-label {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 5px;
        }
        
        .detail-value {
            font-size: 18px;
            font-weight: bold;
        }
        
        /* Secci√≥n de seguridad */
        .security-section {
            background: #fef2f2;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid #fecaca;
        }
        
        .security-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .security-title {
            color: #dc2626;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .toggle-password {
            background: #dc2626;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .toggle-password:hover {
            background: #b91c1c;
        }
        
        /* Botones de acci√≥n */
        .action-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #f1f5f9;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: #8b5cf6;
            color: white;
        }
        
        .btn-primary:hover {
            background: #7c3aed;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(139, 92, 246, 0.3);
        }
        
        .btn-secondary {
            background: #f5f3ff;
            color: #8b5cf6;
            border: 1px solid #ddd6fe;
        }
        
        .btn-secondary:hover {
            background: #ddd6fe;
        }
        
        .btn-danger {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }
        
        .btn-danger:hover {
            background: #fecaca;
        }
        
        /* Pie de p√°gina */
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 25px;
            color: #64748b;
            border-top: 1px solid #e2e8f0;
            background: white;
            border-radius: 20px 20px 0 0;
        }
        
        /* Estilo de pesta√±as */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Dise√±o responsive */
        @media (max-width: 992px) {
            .profile-layout {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }
            
            .nav-links a {
                margin: 0;
            }
            
            .subscription-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .info-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <span>üè†</span>
                RentHub 2030
            </div>
            <nav class="nav-links">
                <a href="index.html">Inicio</a>
                <a href="dashboard.html">Panel de Control</a>
                <a href="publish.html">Publicar Anuncio</a>
                <a href="my-ads.html">Mis Anuncios</a>
                <a href="profile.html" class="active">Mi Cuenta</a>
                <a href="upgrade-plans.html">Mejorar Plan</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="profile-layout">
            <!-- Barra lateral -->
            <div class="sidebar">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">J</div>
                    <div class="user-name" id="userName">Juan P√©rez</div>
                    <div class="user-email" id="userEmail">juan@ejemplo.com</div>
                    <div class="user-join-date" id="joinDate">Miembro desde Octubre 2023</div>
                </div>
                
                <ul class="sidebar-nav">
                    <li>
                        <a href="javascript:void(0)" onclick="showTab('account-tab')" class="active" id="account-tab-link">
                            <span class="nav-icon">üë§</span>
                            <span>Informaci√≥n de Cuenta</span>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0)" onclick="showTab('subscription-tab')" id="subscription-tab-link">
                            <span class="nav-icon">üíé</span>
                            <span>Suscripci√≥n</span>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0)" onclick="showTab('security-tab')" id="security-tab-link">
                            <span class="nav-icon">üîí</span>
                            <span>Seguridad</span>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0)" onclick="showTab('activity-tab')" id="activity-tab-link">
                            <span class="nav-icon">üìä</span>
                            <span>Actividad</span>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0)" onclick="showTab('settings-tab')" id="settings-tab-link">
                            <span class="nav-icon">‚öôÔ∏è</span>
                            <span>Ajustes</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Contenido principal -->
            <div class="main-content">
                <!-- Informaci√≥n de cuenta -->
                <div class="tab-content active" id="account-tab">
                    <div class="content-header">
                        <h1 class="content-title">üë§ Informaci√≥n de Mi Cuenta</h1>
                        <button class="edit-profile-btn" onclick="toggleEditMode()">
                            <span>‚úèÔ∏è</span>
                            <span id="editBtnText">Editar Perfil</span>
                        </button>
                    </div>

                    <!-- Tarjetas de informaci√≥n -->
                    <div class="info-cards">
                        <div class="info-card">
                            <h3><span>üìÖ</span> Fecha de Registro</h3>
                            <p id="joinDateStat">15 Octubre 2023</p>
                            <span>Hace 45 d√≠as</span>
                        </div>
                        <div class="info-card">
                            <h3><span>üìä</span> Mis Anuncios</h3>
                            <p id="totalAdsStat">6</p>
                            <span>Anuncios publicados</span>
                        </div>
                        <div class="info-card">
                            <h3><span>üëÅÔ∏è</span> Vistas</h3>
                            <p id="totalViewsStat">1,152</p>
                            <span>Vistas totales</span>
                        </div>
                        <div class="info-card">
                            <h3><span>‚≠ê</span> Calificaci√≥n</h3>
                            <p id="userRating">4.8</p>
                            <span>de 5 estrellas</span>
                        </div>
                    </div>

                    <!-- Informaci√≥n de cuenta -->
                    <div class="account-section">
                        <h2 class="section-title">Informaci√≥n Personal</h2>
                        <form id="profileForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Nombre Completo</label>
                                    <input type="text" class="form-control" id="fullName" value="Juan P√©rez" readonly>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Correo Electr√≥nico</label>
                                    <input type="email" class="form-control" id="email" value="juan@ejemplo.com" readonly>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">N√∫mero de Tel√©fono</label>
                                    <input type="tel" class="form-control" id="phone" value="612345678" readonly>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ciudad</label>
                                    <select class="form-control" id="city" disabled>
                                        <option value="madrid" selected>Madrid</option>
                                        <option value="barcelona">Barcelona</option>
                                        <option value="valencia">Valencia</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Direcci√≥n</label>
                                <textarea class="form-control" id="address" rows="2" readonly>Calle Mayor, 123</textarea>
                            </div>
                        </form>
                    </div>

                    <!-- Botones de acci√≥n -->
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="saveProfileChanges()" id="saveBtn" style="display: none;">
                            üíæ Guardar Cambios
                        </button>
                        <button class="btn btn-secondary" onclick="cancelEditMode()" id="cancelBtn" style="display: none;">
                            ‚ùå Cancelar
                        </button>
                        <button class="btn btn-secondary" onclick="window.location.href='my-ads.html'">
                            üìã Ir a Mis Anuncios
                        </button>
                        <button class="btn btn-danger" onclick="confirmLogout()">
                            üö™ Cerrar Sesi√≥n
                        </button>
                    </div>
                </div>

                <!-- Suscripci√≥n -->
                <div class="tab-content" id="subscription-tab">
                    <div class="content-header">
                        <h1 class="content-title">üíé Plan de Suscripci√≥n</h1>
                        <button class="edit-profile-btn" onclick="window.location.href='upgrade-plans.html'">
                            <span>üîº</span>
                            <span>Mejorar Plan</span>
                        </button>
                    </div>

                    <!-- Tarjeta de suscripci√≥n -->
                    <div class="subscription-card">
                        <div class="subscription-header">
                            <div class="subscription-plan">
                                <div class="plan-icon" id="planIcon">ü•à</div>
                                <div>
                                    <div class="plan-name" id="planName">Plata</div>
                                    <div class="plan-price" id="planPrice">‚Ç¨15 / mes</div>
                                </div>
                            </div>
                            <button class="upgrade-btn" onclick="window.location.href='upgrade-plans.html'">
                                üöÄ Mejorar Ahora
                            </button>
                        </div>
                        
                        <div class="subscription-details">
                            <div class="detail-item">
                                <div class="detail-label">Estado de Suscripci√≥n</div>
                                <div class="detail-value" id="subscriptionStatus">Activo</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Fecha de Renovaci√≥n</div>
                                <div class="detail-value" id="renewalDate">15 Noviembre 2023</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Anuncios Usados</div>
                                <div class="detail-value" id="adsUsed">2 / 20</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Per√≠odo de Suscripci√≥n</div>
                                <div class="detail-value" id="subscriptionPeriod">Mensual</div>
                            </div>
                        </div>
                    </div>

                    <!-- Historial de facturas -->
                    <div class="account-section">
                        <h2 class="section-title">üîÑ Historial de Facturas</h2>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="background: #f8fafc; border-bottom: 2px solid #e2e8f0;">
                                        <th style="padding: 15px; text-align: left;">Fecha</th>
                                        <th style="padding: 15px; text-align: left;">Monto</th>
                                        <th style="padding: 15px; text-align: left;">Plan</th>
                                        <th style="padding: 15px; text-align: left;">Estado</th>
                                        <th style="padding: 15px; text-align: left;">Acci√≥n</th>
                                    </tr>
                                </thead>
                                <tbody id="billingHistory">
                                    <!-- Se llenar√° con JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Seguridad -->
                <div class="tab-content" id="security-tab">
                    <div class="content-header">
                        <h1 class="content-title">üîí Seguridad de la Cuenta</h1>
                    </div>

                    <div class="security-section">
                        <div class="security-header">
                            <h2 class="security-title"><span>üîë</span> Contrase√±a</h2>
                            <button class="toggle-password" onclick="changePassword()">
                                Cambiar Contrase√±a
                            </button>
                        </div>
                        <p style="color: #92400e; margin-bottom: 20px;">√öltima actualizaci√≥n de contrase√±a: Hace 30 d√≠as</p>
                        
                        <form id="passwordForm" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Contrase√±a Actual</label>
                                    <input type="password" class="form-control" id="currentPassword">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Nueva Contrase√±a</label>
                                    <input type="password" class="form-control" id="newPassword">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Confirmar Nueva Contrase√±a</label>
                                    <input type="password" class="form-control" id="confirmPassword">
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <button type="button" class="btn btn-primary" onclick="saveNewPassword()">Guardar</button>
                                <button type="button" class="btn btn-secondary" onclick="cancelPasswordChange()">Cancelar</button>
                            </div>
                        </form>
                    </div>

                    <!-- Sesiones activas -->
                    <div class="account-section">
                        <h2 class="section-title">üñ•Ô∏è Sesiones Activas de Inicio</h2>
                        <div id="activeSessions">
                            <!-- Se llenar√° con JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Actividad -->
                <div class="tab-content" id="activity-tab">
                    <div class="content-header">
                        <h1 class="content-title">üìä Actividad de la Cuenta</h1>
                    </div>

                    <div class="info-cards">
                        <div class="info-card">
                            <h3><span>üìà</span> Este Mes</h3>
                            <p id="monthlyViews">342</p>
                            <span>Vistas de tus anuncios</span>
                        </div>
                        <div class="info-card">
                            <h3><span>üí¨</span> Mensajes</h3>
                            <p id="totalMessages">24</p>
                            <span>Mensajes recibidos</span>
                        </div>
                        <div class="info-card">
                            <h3><span>‚úÖ</span> √âxito</h3>
                            <p id="successRate">92%</p>
                            <span>Tasa de √©xito de transacciones</span>
                        </div>
                        <div class="info-card">
                            <h3><span>‚è±Ô∏è</span> Tiempo de Respuesta</h3>
                            <p id="responseTime">2.4 h</p>
                            <span>Tiempo promedio de respuesta</span>
                        </div>
                    </div>

                    <!-- Registro de actividad -->
                    <div class="account-section">
                        <h2 class="section-title">üïí Registro de Actividad Reciente</h2>
                        <div id="activityLog">
                            <!-- Se llenar√° con JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Ajustes -->
                <div class="tab-content" id="settings-tab">
                    <div class="content-header">
                        <h1 class="content-title">‚öôÔ∏è Ajustes de la Cuenta</h1>
                    </div>

                    <div class="account-section">
                        <h2 class="section-title">üîî Notificaciones</h2>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="emailNotifications" checked>
                                <span>Notificaciones por Correo Electr√≥nico</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="smsNotifications" checked>
                                <span>Notificaciones por Mensajes de Texto</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="promotionalEmails">
                                <span>Correos Promocionales y Ofertas</span>
                            </label>
                        </div>
                    </div>

                    <div class="account-section">
                        <h2 class="section-title">üåç Idioma y Regi√≥n</h2>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Idioma</label>
                                <select class="form-control" id="language">
                                    <option value="es" selected>Espa√±ol</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Zona Horaria</label>
                                <select class="form-control" id="timezone">
                                    <option value="+1" selected>Hora de Madrid (UTC+1)</option>
                                    <option value="+2">Hora de Europa Central (UTC+2)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Gesti√≥n de cuenta -->
                    <div class="account-section">
                        <h2 class="section-title" style="color: #dc2626;">‚ö†Ô∏è Gesti√≥n de Cuenta</h2>
                        <div class="action-buttons">
                            <button class="btn btn-danger" onclick="exportUserData()">
                                üì• Exportar Mis Datos
                            </button>
                            <button class="btn btn-danger" onclick="deactivateAccount()">
                                ‚è∏Ô∏è Desactivar Cuenta Temporalmente
                            </button>
                            <button class="btn btn-danger" onclick="deleteAccount()">
                                üóëÔ∏è Eliminar Cuenta Permanentemente
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pie de p√°gina -->
    <footer>
        <p>¬© 2023 RentHub 2030. Todos los derechos reservados.</p>
        <p style="font-size: 14px; margin-top: 10px; color: #94a3b8;">Gestiona tu cuenta con total seguridad y privacidad</p>
    </footer>

    <!-- Sistema de suscripciones -->
    <script src="js/subscriptions.js"></script>
    
    <!-- C√≥digo espec√≠fico de la p√°gina de perfil -->
    <script>
        // Datos del usuario
        let userProfile = {};
        let isEditMode = false;
        let originalProfileData = {};
        
        // Inicializar p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üë§ ¬°P√°gina de Perfil lista!');
            loadUserProfile();
            loadBillingHistory();
            loadActiveSessions();
            loadActivityLog();
            updateSubscriptionInfo();
        });
        
        // Cargar datos del perfil
        function loadUserProfile() {
            // Simular datos del usuario desde localStorage
            const savedProfile = localStorage.getItem('renthub_user_profile');
            
            if (savedProfile) {
                userProfile = JSON.parse(savedProfile);
            } else {
                // Datos de ejemplo
                userProfile = {
                    fullName: "Juan P√©rez",
                    email: "juan@ejemplo.com",
                    phone: "612345678",
                    city: "madrid",
                    address: "Calle Mayor, 123",
                    joinDate: "2023-10-15",
                    avatarInitial: "J",
                    totalAds: 6,
                    totalViews: 1152,
                    rating: 4.8,
                    monthlyViews: 342,
                    totalMessages: 24,
                    successRate: "92%",
                    responseTime: "2.4 h"
                };
                saveProfileToStorage();
            }
            
            originalProfileData = {...userProfile};
            updateProfileDisplay();
        }
        
        // Guardar datos del perfil
        function saveProfileToStorage() {
            localStorage.setItem('renthub_user_profile', JSON.stringify(userProfile));
        }
        
        // Actualizar visualizaci√≥n del perfil
        function updateProfileDisplay() {
            document.getElementById('userAvatar').textContent = userProfile.avatarInitial;
            document.getElementById('userName').textContent = userProfile.fullName;
            document.getElementById('userEmail').textContent = userProfile.email;
            
            const joinDate = new Date(userProfile.joinDate);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = joinDate.toLocaleDateString('es-ES', options);
            
            const months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
                           "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
            const monthName = months[joinDate.getMonth()];
            const year = joinDate.getFullYear();
            
            document.getElementById('joinDate').textContent = `Miembro desde ${monthName} ${year}`;
            document.getElementById('joinDateStat').textContent = formattedDate;
            document.getElementById('totalAdsStat').textContent = userProfile.totalAds;
            document.getElementById('totalViewsStat').textContent = userProfile.totalViews.toLocaleString();
            document.getElementById('userRating').textContent = userProfile.rating;
            document.getElementById('monthlyViews').textContent = userProfile.monthlyViews;
            document.getElementById('totalMessages').textContent = userProfile.totalMessages;
            document.getElementById('successRate').textContent = userProfile.successRate;
            document.getElementById('responseTime').textContent = userProfile.responseTime;
            
            // Actualizar formulario de datos
            document.getElementById('fullName').value = userProfile.fullName;
            document.getElementById('email').value = userProfile.email;
            document.getElementById('phone').value = userProfile.phone;
            document.getElementById('city').value = userProfile.city;
            document.getElementById('address').value = userProfile.address;
        }
        
        // Alternar modo de edici√≥n
        function toggleEditMode() {
            isEditMode = !isEditMode;
            const formControls = document.querySelectorAll('#profileForm input, #profileForm select, #profileForm textarea');
            const editBtn = document.getElementById('editBtnText');
            const saveBtn = document.getElementById('saveBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            
            if (isEditMode) {
                // Habilitar campos
                formControls.forEach(control => {
                    control.removeAttribute('readonly');
                    control.disabled = false;
                    control.style.background = 'white';
                });
                
                editBtn.textContent = 'Cancelar Edici√≥n';
                saveBtn.style.display = 'flex';
                cancelBtn.style.display = 'flex';
            } else {
                // Deshabilitar campos
                formControls.forEach(control => {
                    control.setAttribute('readonly', true);
                    control.disabled = true;
                    control.style.background = '#f8fafc';
                });
                
                // Restaurar datos originales
                userProfile = {...originalProfileData};
                updateProfileDisplay();
                
                editBtn.textContent = 'Editar Perfil';
                saveBtn.style.display = 'none';
                cancelBtn.style.display = 'none';
            }
        }
        
        // Cancelar modo de edici√≥n
        function cancelEditMode() {
            isEditMode = false;
            toggleEditMode();
        }
        
        // Guardar cambios
        function saveProfileChanges() {
            // Recoger datos del formulario
            userProfile.fullName = document.getElementById('fullName').value;
            userProfile.email = document.getElementById('email').value;
            userProfile.phone = document.getElementById('phone').value;
            userProfile.city = document.getElementById('city').value;
            userProfile.address = document.getElementById('address').value;
            
            // Actualizar inicial del avatar
            userProfile.avatarInitial = userProfile.fullName.charAt(0);
            
            // Guardar en almacenamiento local
            saveProfileToStorage();
            originalProfileData = {...userProfile};
            
            // Actualizar visualizaci√≥n
            updateProfileDisplay();
            
            // Salir del modo de edici√≥n
            toggleEditMode();
            
            // Mostrar mensaje de √©xito
            alert('‚úÖ ¬°Cambios guardados exitosamente!');
        }
        
        // Cambiar pesta√±as
        function showTab(tabId) {
            // Ocultar todos los contenidos
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remover activo de todos los enlaces de pesta√±as
            const tabLinks = document.querySelectorAll('.sidebar-nav a');
            tabLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            // Mostrar contenido seleccionado y activar enlace
            document.getElementById(tabId).classList.add('active');
            document.getElementById(tabId + '-link').classList.add('active');
            
            // Actualizar informaci√≥n de suscripci√≥n al abrir pesta√±a de suscripci√≥n
            if (tabId === 'subscription-tab') {
                updateSubscriptionInfo();
            }
        }
        
        // Actualizar informaci√≥n de suscripci√≥n
        function updateSubscriptionInfo() {
            try {
                const planInfo = getCurrentPlanInfo();
                
                // Actualizar icono seg√∫n el plan
                const planIcons = {
                    'Gratis': 'üÜì',
                    'Bronce': 'ü•â',
                    'Plata': 'ü•à',
                    'Oro': 'ü•á'
                };
                
                document.getElementById('planIcon').textContent = planIcons[planInfo.name] || 'üíé';
                document.getElementById('planName').textContent = planInfo.name;
                document.getElementById('planPrice').textContent = 
                    planInfo.price === 0 ? 'Gratis' : `‚Ç¨${planInfo.price} / mes`;
                document.getElementById('adsUsed').textContent = 
                    `${planInfo.adsUsed} / ${planInfo.adsLimit === 100 ? '‚àû' : planInfo.adsLimit}`;
                
                // Calcular fecha de renovaci√≥n (un mes desde ahora)
                const renewalDate = new Date();
                renewalDate.setMonth(renewalDate.getMonth() + 1);
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('renewalDate').textContent = 
                    renewalDate.toLocaleDateString('es-ES', options);
                    
            } catch (error) {
                console.error('Error actualizando informaci√≥n de suscripci√≥n:', error);
            }
        }
        
        // Cargar historial de facturas
        function loadBillingHistory() {
            const billingHistory = [
                { date: '2023-10-15', amount: '‚Ç¨15', plan: 'Plata', status: 'Pagada' },
                { date: '2023-09-15', amount: '‚Ç¨15', plan: 'Plata', status: 'Pagada' },
                { date: '2023-08-15', amount: '‚Ç¨5', plan: 'Bronce', status: 'Pagada' },
                { date: '2023-07-15', amount: '‚Ç¨0', plan: 'Gratis', status: 'Pagada' }
            ];
            
            let html = '';
            billingHistory.forEach(bill => {
                const date = new Date(bill.date);
                const formattedDate = date.toLocaleDateString('es-ES');
                
                html += `
                    <tr style="border-bottom: 1px solid #f1f5f9;">
                        <td style="padding: 15px;">${formattedDate}</td>
                        <td style="padding: 15px; font-weight: bold; color: #8b5cf6;">${bill.amount}</td>
                        <td style="padding: 15px;">${bill.plan}</td>
                        <td style="padding: 15px;">
                            <span style="background: #d1fae5; color: #065f46; padding: 5px 10px; border-radius: 20px; font-size: 12px;">
                                ${bill.status}
                            </span>
                        </td>
                        <td style="padding: 15px;">
                            <button style="background: #f5f3ff; color: #8b5cf6; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">
                                Ver Factura
                            </button>
                        </td>
                    </tr>
                `;
            });
            
            document.getElementById('billingHistory').innerHTML = html;
        }
        
        // Cargar sesiones activas
        function loadActiveSessions() {
            const sessions = [
                { device: 'Ordenador - Chrome', location: 'Madrid, Espa√±a', lastActive: 'Hace 2 horas' },
                { device: 'iPhone - Safari', location: 'Madrid, Espa√±a', lastActive: 'Hace 5 horas' }
            ];
            
            let html = '';
            sessions.forEach(session => {
                html += `
                    <div style="background: #f8fafc; padding: 15px; border-radius: 10px; margin-bottom: 15px; border: 1px solid #e2e8f0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div style="font-weight: bold;">${session.device}</div>
                            <button style="background: #fef2f2; color: #dc2626; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 12px;">
                                Terminar Sesi√≥n
                            </button>
                        </div>
                        <div style="color: #64748b; font-size: 14px;">
                            <span>üìç ${session.location}</span>
                            <span style="margin-left: 20px;">üïí ${session.lastActive}</span>
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('activeSessions').innerHTML = html;
        }
        
        // Cargar registro de actividad
        function loadActivityLog() {
            const activities = [
                { action: 'Public√≥ nuevo anuncio', details: 'Coche Toyota Camry 2022', time: 'Hace 3 horas' },
                { action: 'Edit√≥ anuncio', details: 'Equipo de fotograf√≠a profesional', time: 'Hace 1 d√≠a' },
                { action: 'Recibi√≥ mensaje', details: 'Oferta en anuncio de apartamento', time: 'Hace 2 d√≠as' },
                { action: 'Mejor√≥ plan', details: 'De Bronce a Plata', time: 'Hace 1 semana' },
                { action: 'Inici√≥ sesi√≥n', details: 'Desde nuevo dispositivo', time: 'Hace 2 semanas' }
            ];
            
            let html = '';
            activities.forEach(activity => {
                html += `
                    <div style="display: flex; align-items: flex-start; padding: 15px; border-bottom: 1px solid #f1f5f9;">
                        <div style="background: #f5f3ff; color: #8b5cf6; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                            üìù
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: bold; color: #1e293b;">${activity.action}</div>
                            <div style="color: #64748b; font-size: 14px;">${activity.details}</div>
                        </div>
                        <div style="color: #94a3b8; font-size: 13px;">${activity.time}</div>
                    </div>
                `;
            });
            
            document.getElementById('activityLog').innerHTML = html;
        }
        
        // Cambiar contrase√±a
        function changePassword() {
            const form = document.getElementById('passwordForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }
        
        // Guardar nueva contrase√±a
        function saveNewPassword() {
            const currentPass = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPassword').value;
            const confirmPass = document.getElementById('confirmPassword').value;
            
            if (!currentPass || !newPass || !confirmPass) {
                alert('Por favor, completa todos los campos');
                return;
            }
            
            if (newPass !== confirmPass) {
                alert('Las contrase√±as nuevas no coinciden');
                return;
            }
            
            if (newPass.length < 6) {
                alert('La contrase√±a debe tener al menos 6 caracteres');
                return;
            }
            
            // Simular cambio de contrase√±a
            alert('‚úÖ ¬°Contrase√±a cambiada exitosamente!');
            document.getElementById('passwordForm').style.display = 'none';
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }
        
        // Cancelar cambio de contrase√±a
        function cancelPasswordChange() {
            document.getElementById('passwordForm').style.display = 'none';
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }
        
        // Confirmar cierre de sesi√≥n
        function confirmLogout() {
            if (confirm('¬øEst√°s seguro de cerrar sesi√≥n?')) {
                // Limpiar datos de sesi√≥n
                localStorage.removeItem('renthub_user');
                localStorage.removeItem('renthub_user_profile');
                localStorage.removeItem('renthub_user_ads');
                
                // Redirigir a p√°gina de inicio
                alert('Sesi√≥n cerrada exitosamente');
                window.location.href = 'index.html';
            }
        }
        
        // Exportar datos del usuario
        function exportUserData() {
            if (confirm('¬øQuieres exportar todos tus datos personales?')) {
                const data = {
                    profile: userProfile,
                    subscription: getCurrentPlanInfo(),
                    ads: JSON.parse(localStorage.getItem('renthub_user_ads') || '[]')
                };
                
                const dataStr = JSON.stringify(data, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                
                const exportFileDefaultName = `renthub-datos-${new Date().toISOString().split('T')[0]}.json`;
                
                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
                
                alert('‚úÖ ¬°Datos exportados exitosamente!');
            }
        }
        
        // Desactivar cuenta
        function deactivateAccount() {
            if (confirm('‚ö†Ô∏è ¬øQuieres desactivar tu cuenta temporalmente?\n\nSe:\n‚Ä¢ Pausar√°n todos tus anuncios\n‚Ä¢ Suspender√° tu suscripci√≥n\n‚Ä¢ Guardar√°n todos tus datos\n\nPuedes reactivarla m√°s tarde.')) {
                alert('Cuenta desactivada temporalmente. Contacta con soporte para reactivarla.');
                window.location.href = 'index.html';
            }
        }
        
        // Eliminar cuenta permanentemente
        function deleteAccount() {
            if (confirm('‚ùå ‚ö†Ô∏è ‚ö†Ô∏è ‚ö†Ô∏è ‚ùå\n¬°Eliminar cuenta permanentemente!\n\nEsta acci√≥n:\n‚Ä¢ No se puede deshacer\n‚Ä¢ Elimina todos tus datos permanentemente\n‚Ä¢ Elimina todos tus anuncios\n‚Ä¢ Cancela tu suscripci√≥n\n\n¬øEst√°s completamente seguro?')) {
                if (prompt('Para confirmar, escribe "eliminar mi cuenta"') === 'eliminar mi cuenta') {
                    // Limpiar todos los datos
                    localStorage.clear();
                    alert('Cuenta eliminada permanentemente. ¬°Lamentamos que te vayas!');
                    window.location.href = 'index.html';
                }
            }
        }
        
        // Hacer funciones disponibles globalmente
        window.showTab = showTab;
        window.toggleEditMode = toggleEditMode;
        window.cancelEditMode = cancelEditMode;
        window.saveProfileChanges = saveProfileChanges;
        window.changePassword = changePassword;
        window.saveNewPassword = saveNewPassword;
        window.cancelPasswordChange = cancelPasswordChange;
        window.confirmLogout = confirmLogout;
        window.exportUserData = exportUserData;
        window.deactivateAccount = deactivateAccount;
        window.deleteAccount = deleteAccount;
    </script>
</body>
</html>

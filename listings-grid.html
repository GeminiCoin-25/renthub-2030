<section class="listings-section">
    <div class="container">
        <div class="section-header">
            <div class="header-left">
                <h2 class="section-title">
                    <i class="fas fa-bolt"></i> Anuncios Destacados
                </h2>
                <p class="section-subtitle">Artículos populares disponibles cerca de ti</p>
            </div>
            <div class="header-right">
                <div class="view-options">
                    <button class="view-btn active" onclick="changeView('grid')">
                        <i class="fas fa-th-large"></i>
                    </button>
                    <button class="view-btn" onclick="changeView('list')">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
                <button class="btn-refresh" onclick="refreshListings()">
                    <i class="fas fa-sync-alt"></i> Actualizar
                </button>
            </div>
        </div>
        
        <div class="listings-container grid-view" id="listingsContainer">
            <!-- Anuncio 1 -->
            <div class="listing-card">
                <div class="listing-image">
                    <div class="image-placeholder" style="background: linear-gradient(135deg, #4361ee, #3a0ca3);">
                        <i class="fas fa-tools"></i>
                    </div>
                    <div class="listing-badge new">NUEVO</div>
                    <button class="fav-btn" onclick="toggleFavorite(1)">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
                
                <div class="listing-content">
                    <div class="listing-header">
                        <h3 class="listing-title">Taladro Profesional 750W</h3>
                        <div class="listing-rating">
                            <span class="stars">★★★★★</span>
                            <span class="rating-number">4.9</span>
                        </div>
                    </div>
                    
                    <p class="listing-description">
                        Taladro potente para trabajos en casa. Incluye brocas y maletín.
                    </p>
                    
                    <div class="listing-details">
                        <div class="detail-item">
                            <i class="fas fa-user"></i>
                            <span>Juan M.</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Madrid Centro</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>Disponible ahora</span>
                        </div>
                    </div>
                    
                    <div class="listing-footer">
                        <div class="price-info">
                            <span class="price-amount">8€</span>
                            <span class="price-unit">/hora</span>
                        </div>
                        <button class="btn-rent" onclick="rentItem(1)">
                            Alquilar ahora
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Anuncio 2 -->
            <div class="listing-card">
                <div class="listing-image">
                    <div class="image-placeholder" style="background: linear-gradient(135deg, #00b09b, #96c93d);">
                        <i class="fas fa-car"></i>
                    </div>
                    <div class="listing-badge popular">POPULAR</div>
                    <button class="fav-btn" onclick="toggleFavorite(2)">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
                
                <div class="listing-content">
                    <div class="listing-header">
                        <h3 class="listing-title">Coche para Bodas 2023</h3>
                        <div class="listing-rating">
                            <span class="stars">★★★★★</span>
                            <span class="rating-number">4.8</span>
                        </div>
                    </div>
                    
                    <p class="listing-description">
                        Mercedes blanco con chófer. Perfecto para bodas y eventos especiales.
                    </p>
                    
                    <div class="listing-details">
                        <div class="detail-item">
                            <i class="fas fa-user"></i>
                            <span>María L.</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Barcelona</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>Reserva previa</span>
                        </div>
                    </div>
                    
                    <div class="listing-footer">
                        <div class="price-info">
                            <span class="price-amount">45€</span>
                            <span class="price-unit">/hora</span>
                        </div>
                        <button class="btn-rent" onclick="rentItem(2)">
                            Alquilar ahora
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Anuncio 3 -->
            <div class="listing-card">
                <div class="listing-image">
                    <div class="image-placeholder" style="background: linear-gradient(135deg, #ff6b6b, #ff8e53);">
                        <i class="fas fa-camera"></i>
                    </div>
                    <div class="listing-badge discount">-20%</div>
                    <button class="fav-btn" onclick="toggleFavorite(3)">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
                
                <div class="listing-content">
                    <div class="listing-header">
                        <h3 class="listing-title">Cámara Canon EOS 90D</h3>
                        <div class="listing-rating">
                            <span class="stars">★★★★☆</span>
                            <span class="rating-number">4.7</span>
                        </div>
                    </div>
                    
                    <p class="listing-description">
                        Cámara profesional para eventos y fotografía. Incluye 2 objetivos.
                    </p>
                    
                    <div class="listing-details">
                        <div class="detail-item">
                            <i class="fas fa-user"></i>
                            <span>Carlos R.</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Valencia</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>Disponible hoy</span>
                        </div>
                    </div>
                    
                    <div class="listing-footer">
                        <div class="price-info">
                            <span class="price-amount old-price">25€</span>
                            <span class="price-amount">20€</span>
                            <span class="price-unit">/día</span>
                        </div>
                        <button class="btn-rent" onclick="rentItem(3)">
                            Alquilar ahora
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Anuncio 4 -->
            <div class="listing-card">
                <div class="listing-image">
                    <div class="image-placeholder" style="background: linear-gradient(135deg, #9d4edd, #c77dff);">
                        <i class="fas fa-couch"></i>
                    </div>
                    <button class="fav-btn" onclick="toggleFavorite(4)">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
                
                <div class="listing-content">
                    <div class="listing-header">
                        <h3 class="listing-title">Juego de Sofás Moderno</h3>
                        <div class="listing-rating">
                            <span class="stars">★★★★★</span>
                            <span class="rating-number">4.9</span>
                        </div>
                    </div>
                    
                    <p class="listing-description">
                        3 piezas, color gris. Perfecto para eventos o mudanzas temporales.
                    </p>
                    
                    <div class="listing-details">
                        <div class="detail-item">
                            <i class="fas fa-user"></i>
                            <span>Ana G.</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Sevilla</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>Disponible</span>
                        </div>
                    </div>
                    
                    <div class="listing-footer">
                        <div class="price-info">
                            <span class="price-amount">15€</span>
                            <span class="price-unit">/día</span>
                        </div>
                        <button class="btn-rent" onclick="rentItem(4)">
                            Alquilar ahora
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Anuncio 5 -->
            <div class="listing-card">
                <div class="listing-image">
                    <div class="image-placeholder" style="background: linear-gradient(135deg, #4cc9f0, #4895ef);">
                        <i class="fas fa-bicycle"></i>
                    </div>
                    <button class="fav-btn active" onclick="toggleFavorite(5)">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                
                <div class="listing-content">
                    <div class="listing-header">
                        <h3 class="listing-title">Bicicleta Eléctrica 2024</h3>
                        <div class="listing-rating">
                            <span class="stars">★★★★☆</span>
                            <span class="rating-number">4.6</span>
                        </div>
                    </div>
                    
                    <p class="listing-description">
                        Bicicleta eléctrica plegable. Autonomía 60km. Casco incluido.
                    </p>
                    
                    <div class="listing-details">
                        <div class="detail-item">
                            <i class="fas fa-user"></i>
                            <span>David S.</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Málaga</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>Disponible</span>
                        </div>
                    </div>
                    
                    <div class="listing-footer">
                        <div class="price-info">
                            <span class="price-amount">12€</span>
                            <span class="price-unit">/día</span>
                        </div>
                        <button class="btn-rent" onclick="rentItem(5)">
                            Alquilar ahora
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Anuncio 6 -->
            <div class="listing-card">
                <div class="listing-image">
                    <div class="image-placeholder" style="background: linear-gradient(135deg, #f72585, #b5179e);">
                        <i class="fas fa-tractor"></i>
                    </div>
                    <div class="listing-badge verified">VERIFICADO</div>
                    <button class="fav-btn" onclick="toggleFavorite(6)">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
                
                <div class="listing-content">
                    <div class="listing-header">
                        <h3 class="listing-title">Tractor Agrícola Pequeño</h3>
                        <div class="listing-rating">
                            <span class="stars">★★★★★</span>
                            <span class="rating-number">4.9</span>
                        </div>
                    </div>
                    
                    <p class="listing-description">
                        Tractor para fincas pequeñas. Estado impecable. Combustible no incluido.
                    </p>
                    
                    <div class="listing-details">
                        <div class="detail-item">
                            <i class="fas fa-user"></i>
                            <span>Empresa Agrícola SL</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Zaragoza</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span>Reserva</span>
                        </div>
                    </div>
                    
                    <div class="listing-footer">
                        <div class="price-info">
                            <span class="price-amount">80€</span>
                            <span class="price-unit">/día</span>
                        </div>
                        <button class="btn-rent" onclick="rentItem(6)">
                            Alquilar ahora
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="listings-actions">
            <button class="btn-load-more" onclick="loadMoreListings()">
                <i class="fas fa-plus-circle"></i> Cargar más anuncios
            </button>
            <button class="btn-publish-your" onclick="window.location.href='publish.html'">
                <i class="fas fa-plus"></i> Publica tu anuncio
            </button>
        </div>
    </div>
</section>

<style>
    /* أنماط Listings Section */
    .listings-section {
        padding: 60px 0 80px;
        background: #ffffff;
    }
    
    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 40px;
        flex-wrap: wrap;
        gap: 20px;
    }
    
    .header-left {
        flex: 1;
        min-width: 300px;
    }
    
    .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
    }
    
    .view-options {
        display: flex;
        background: #f8f9fa;
        border-radius: 12px;
        padding: 6px;
        gap: 5px;
    }
    
    .view-btn {
        background: transparent;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: #666;
        font-size: 1.2rem;
        transition: all 0.3s;
    }
    
    .view-btn.active {
        background: white;
        color: #4361ee;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .btn-refresh {
        background: #f0f4ff;
        color: #4361ee;
        border: 1px solid rgba(67, 97, 238, 0.3);
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s;
    }
    
    .btn-refresh:hover {
        background: #4361ee;
        color: white;
        transform: translateY(-2px);
    }
    
    .listings-container {
        margin-bottom: 40px;
    }
    
    .grid-view {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 30px;
    }
    
    .list-view {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .list-view .listing-card {
        flex-direction: row;
        padding: 20px;
    }
    
    .list-view .listing-image {
        width: 200px;
        height: 200px;
        flex-shrink: 0;
    }
    
    .listing-card {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0,0,0,0.08);
        transition: all 0.4s ease;
        border: 1px solid #f0f0f0;
        display: flex;
        flex-direction: column;
    }
    
    .listing-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 15px 35px rgba(0,0,0,0.15);
    }
    
    .listing-image {
        position: relative;
        height: 200px;
        overflow: hidden;
    }
    
    .image-placeholder {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 3rem;
    }
    
    .listing-badge {
        position: absolute;
        top: 15px;
        left: 15px;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 700;
        color: white;
        z-index: 2;
    }
    
    .listing-badge.new {
        background: #4361ee;
    }
    
    .listing-badge.popular {
        background: #ff9f1c;
    }
    
    .listing-badge.discount {
        background: #e71d36;
    }
    
    .listing-badge.verified {
        background: #2ec4b6;
    }
    
    .fav-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255,255,255,0.9);
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: #666;
        font-size: 1.2rem;
        transition: all 0.3s;
        z-index: 2;
    }
    
    .fav-btn:hover {
        background: white;
        color: #e71d36;
        transform: scale(1.1);
    }
    
    .fav-btn.active {
        background: #e71d36;
        color: white;
    }
    
    .fav-btn.active:hover {
        background: #c1121f;
    }
    
    .listing-content {
        padding: 25px;
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    
    .listing-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 15px;
    }
    
    .listing-title {
        font-size: 1.3rem;
        font-weight: 700;
        color: #1a1a1a;
        line-height: 1.3;
        margin-right: 10px;
    }
    
    .listing-rating {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 4px;
    }
    
    .stars {
        color: #ffc107;
        font-size: 0.9rem;
        letter-spacing: 1px;
    }
    
    .rating-number {
        font-size: 0.85rem;
        color: #666;
        font-weight: 600;
    }
    
    .listing-description {
        color: #666;
        line-height: 1.5;
        margin-bottom: 20px;
        flex: 1;
        font-size: 0.95rem;
    }
    
    .listing-details {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .detail-item {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #666;
        font-size: 0.9rem;
    }
    
    .detail-item i {
        color: #4361ee;
        font-size: 0.9rem;
    }
    
    .listing-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: auto;
    }
    
    .price-info {
        display: flex;
        align-items: baseline;
        gap: 5px;
    }
    
    .price-amount {
        font-size: 1.8rem;
        font-weight: 700;
        color: #4361ee;
        line-height: 1;
    }
    
    .price-amount.old-price {
        font-size: 1.2rem;
        color: #999;
        text-decoration: line-through;
        margin-right: 5px;
    }
    
    .price-unit {
        font-size: 0.9rem;
        color: #666;
        font-weight: 500;
    }
    
    .btn-rent {
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 0.95rem;
    }
    
    .btn-rent:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(67, 97, 238, 0.25);
    }
    
    .listings-actions {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
        flex-wrap: wrap;
    }
    
    .btn-load-more {
        background: #f0f4ff;
        color: #4361ee;
        border: 2px solid #4361ee;
        padding: 15px 30px;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s;
    }
    
    .btn-load-more:hover {
        background: #4361ee;
        color: white;
        transform: translateY(-3px);
    }
    
    .btn-publish-your {
        background: linear-gradient(135deg, #00b09b, #96c93d);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s;
    }
    
    .btn-publish-your:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0, 176, 155, 0.25);
    }
    
    /* تصميم متجاوب */
    @media (max-width: 992px) {
        .grid-view {
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .list-view .listing-image {
            width: 150px;
            height: 150px;
        }
    }
    
    @media (max-width: 768px) {
        .section-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 15px;
        }
        
        .header-right {
            width: 100%;
            justify-content: space-between;
        }
        
        .grid-view {
            grid-template-columns: 1fr;
        }
        
        .list-view .listing-card {
            flex-direction: column;
        }
        
        .list-view .listing-image {
            width: 100%;
            height: 200px;
        }
        
        .listing-content {
            padding: 20px;
        }
        
        .listing-details {
            gap: 10px;
        }
        
        .listings-actions {
            flex-direction: column;
            align-items: stretch;
        }
        
        .btn-load-more, .btn-publish-your {
            width: 100%;
            justify-content: center;
        }
    }
    
    @media (max-width: 480px) {
        .listing-header {
            flex-direction: column;
            gap: 10px;
        }
        
        .listing-rating {
            align-items: flex-start;
        }
        
        .listing-footer {
            flex-direction: column;
            gap: 15px;
            align-items: stretch;
        }
        
        .price-info {
            justify-content: center;
        }
        
        .btn-rent {
            width: 100%;
        }
    }
</style>

<script>
    // تغيير طريقة العرض
    function changeView(viewType) {
        const container = document.getElementById('listingsContainer');
        const buttons = document.querySelectorAll('.view-btn');
        
        // تحديث الأزرار
        buttons.forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        
        // تغيير العرض
        if (viewType === 'grid') {
            container.classList.remove('list-view');
            container.classList.add('grid-view');
        } else {
            container.classList.remove('grid-view');
            container.classList.add('list-view');
        }
        
        showListingsAlert(`Vista cambiada a: ${viewType === 'grid' ? 'Cuadrícula' : 'Lista'}`);
    }
    
    // تحديث الإعلانات
    function refreshListings() {
        const btn = event.target;
        const originalText = btn.innerHTML;
        
        // إظهار التحميل
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Actualizando...';
        btn.disabled = true;
        
        showListingsAlert('Buscando nuevos anuncios...', 'info');
        
        // محاكاة التحميل
        setTimeout(() => {
            btn.innerHTML = originalText;
            btn.disabled = false;
            
            showListingsAlert('¡Anuncios actualizados!', 'success');
            
            // في الموقع الحقيقي، هنا سيتم جلب بيانات جديدة
            console.log('Listings refreshed');
        }, 1500);
    }
    
    // تفعيل/إلغاء المفضلة
    function toggleFavorite(itemId) {
        const btn = event.currentTarget;
        const heartIcon = btn.querySelector('i');
        
        if (heartIcon.classList.contains('far')) {
            // إضافة للمفضلة
            heartIcon.classList.remove('far');
            heartIcon.classList.add('fas');
            btn.classList.add('active');
            showListingsAlert('Añadido a favoritos', 'success');
        } else {
            // إزالة من المفضلة
            heartIcon.classList.remove('fas');
            heartIcon.classList.add('far');
            btn.classList.remove('active');
            showListingsAlert('Eliminado de favoritos', 'info');
        }
        
        // في الموقع الحقيقي، هنا سيتم حفظ في قاعدة البيانات
        console.log(`Toggled favorite for item ${itemId}`);
    }
    
    // استئجار عنصر
    function rentItem(itemId) {
        // التحقق من تسجيل الدخول
        const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
        
        if (!isLoggedIn) {
            showListingsAlert('Por favor, inicia sesión para alquilar', 'warning');
            setTimeout(() => {
                window.location.href = 'auth.html';
            }, 1500);
            return;
        }
        
        showListingsAlert('Redirigiendo al proceso de alquiler...', 'info');
        
        // في الموقع الحقيقي، هنا سيتم التوجيه لصفحة الاستئجار
        console.log(`Renting item ${itemId}`);
        
        // محاكاة النجاح
        setTimeout(() => {
            showListingsAlert('¡Alquiler iniciado! Completa el proceso', 'success');
        }, 1000);
    }
    
    // تحميل المزيد من الإعلانات
    function loadMoreListings() {
        const btn = event.target;
        const originalText = btn.innerHTML;
        
        // إظهار التحميل
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Cargando...';
        btn.disabled = true;
        
        showListingsAlert('Cargando más anuncios...', 'info');
        
        // محاكاة التحميل
        setTimeout(() => {
            btn.innerHTML = originalText;
            btn.disabled = false;
            
            // في الموقع الحقيقي، هنا سيتم إضافة إعلانات جديدة
            showListingsAlert('¡3 nuevos anuncios cargados!', 'success');
            
            // إعادة تمكين الزر بعد 2 ثانية
            setTimeout(() => {
                btn.disabled = false;
            }, 2000);
        }, 2000);
    }
    
    // عرض رسالة للإعلانات
    function showListingsAlert(message, type = 'info') {
        // إزالة أي رسائل سابقة
        const existingAlert = document.querySelector('.listings-alert');
        if (existingAlert) {
            existingAlert.remove();
        }
        
        const colors = {
            info: '#4361ee',
            success: '#2ec4b6',
            warning: '#ff9f1c',
            error: '#e71d36'
        };
        
        const alertDiv = document.createElement('div');
        alertDiv.className = 'listings-alert';
        alertDiv.innerHTML = `
            <div style="
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${colors[type] || colors.info};
                color: white;
                padding: 15px 25px;
                border-radius: 12px;
                z-index: 9996;
                box-shadow: 0 8px 25px rgba(0,0,0,0.2);
                display: flex;
                align-items: center;
                gap: 12px;
                animation: fadeInDown 0.3s ease;
                max-width: 400px;
                font-weight: 500;
            ">
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                <span>${message}</span>
                <button onclick="this.parentElement.parentElement.remove()" style="
                    background: none;
                    border: none;
                    color: white;
                    cursor: pointer;
                    margin-left: 15px;
                    opacity: 0.8;
                ">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;
        
        document.body.appendChild(alertDiv);
        
        // إزالة تلقائية
        setTimeout(() => {
            if (alertDiv.parentElement) {
                alertDiv.remove();
            }
        }, 4000);
    }
    
    // تحميل البيانات
    document.addEventListener('DOMContentLoaded', function() {
        console.log('✅ Listings section loaded');
        
        // إضافة أنيميشن للبطاقات
        const cards = document.querySelectorAll('.listing-card');
        cards.forEach((card, index) => {
            card.style.animationDelay = `${index * 0.1}s`;
            card.style.animation = 'fadeInUp 0.5s ease forwards';
            card.style.opacity = '0';
        });
        
        // تحميل حالة المفضلة
        const favButtons = document.querySelectorAll('.fav-btn');
        favButtons.forEach(btn => {
            // محاكاة حالة عشوائية للمفضلة
            if (Math.random() > 0.7) {
                const heartIcon = btn.querySelector('i');
                heartIcon.classList.remove('far');
                heartIcon.classList.add('fas');
                btn.classList.add('active');
            }
        });
        
        // تعريف الأنيميشن
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInDown {
                from {
                    opacity: 0;
                    transform: translateY(-20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    });
</script>
